
<html>


<head>
	<title>Emilee Chen - CS194-26 Project 4</title>
	<link rel="stylesheet" type="text/css" href="css.css"> 
</head>


<body>
	<div id="wrap">

		<div id="header">

			<div id="name">
				CS194-26 &#8226; Project 4 &#8226; Emilee Chen <br>
				<div id="sub">
					Seam Carving
				</div>
			</div>
			<div id="info-container">
				<div id="info">
					<p>
						CS194-26 FA'15 <br>
						Emilee Chen (cs194-bb) <br>
						echen at berkeley dot edu
					</p>
					<p>
						This is the fourth project for the class <a href="http://inst.eecs.berkeley.edu/~cs194-26/fa15/" target="_blank">CS194-26: Image Manipulation and Computational Photography</a> taught by Professor Alexei Efros at UC Berkeley.
					</p>
				</div>
			</div>
		</div>

		<div id="content">

<!-- 			<h1>I. Seam carving, you say? What's that? And how do we do it?</h1> -->
			<h1>I. Introduction</h1>

				<p>
					Ever had the struggle of finding a beautiful and fabulous landscape image that you want to use as your phone wallpaper, but when you try to crop it into a portrait image nothing looks good? Well, no need to worry, because seam carving (kind of) solves the problem! 
				</p>

				<p>
					Seam carving is the process of resizing images by removing seams in the images while taking image content into consideration. A seam is a 8-connected path that extends from one side of the image to another. The seam is chosen by considering some energy function that differentiates the important features (high energy) from the unimportant features (low energy). The seam with the least energy is selected and removed. This process can be repeated until the image is the appropriate size.
				</p>



<!-- 			<h1>II. That sounds interesting, but how are you going to make it work?</h1> -->
			<h1>II. Implementation</h1>

				<p>
					There are many ways to define an energy fuction of an image, but the energy function I chose to use is a Sobel edge detection filter that I implemented. Looking at edges is a good way to determine where objects, and therefore important features, are.
				</p>

				<p>
					Next, we must sum up the energies of each pixel along possible seams in the image to find the seam with the smallest total energy. This process, if done exhaustively can get very expensive very quickly. So instead, we use dynamic programming to do this calculationby creating a minimum energy path matrix and a path matrix. Each pixel has three possible paths to follow going down a row to reach an adjacent pixel: left, middle, and right. Iterating through each row in the image starting from the first, or top, row, we go through each pixel and determine which path it should take in order to minimize the summed energy. This energy path sum is placed the energy path matrix, and the path taken is placed into the path matrix. This value in the energy path matrix is used in the next row, and so on. The last row of the energy sum matrix is the total energies of the smallest total energies of seams starting from each bottm row pixel. The seam can be traced using the path matrix. All the pixels in the seam with the smallest total energy is deleted, and an image of 1 pixel less width is created. 
				</p>

				<p>
					Seam carving with horizontal seams is done simply by rotation the chosen image by 90 degrees before carving and rotating it back to its original orientation before saving.
				</p>



<!-- 			<h1>III. Cool, can you show me some results?</h1> -->
			<h1>III. Results</h1>

				<p>
					Of the images I have been testing my seam carving with, this one I took of the Blue Angels this summer is one of the most successful. This is because there is a very distinct foreground and solid background. The bulk of the planes and the smoke coming from them are so nicely confined to just one area of the image, that there is a clear section of the image that allows continuous seams without going into any of the planes and smoke.
				</p>

				<p>
					All the seam carved images of reduced size are shown with black padding to keep all the images the same size.
				</p>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/plane.jpg">
								<div class="code subbb">
									original <br>
									<a href="img/plane.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/plane_energy.jpg">
								<div class="code subbb">
									energy function <br>
									<a href="img/plane_energy.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/plane_v10.jpg">
								<div class="code subbb">
									10 seams <br>
									<a href="img/plane_v10.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/plane_v50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/plane_v50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/plane_v100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/plane_v100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/plane_v200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/plane_v200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="4">
								Vertical seam removal on the Blue Angels image with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/plane_h10.jpg">
								<div class="code subbb">
									10 seams <br>
									<a href="img/plane_h10.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/plane_h50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/plane_h50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/plane_h100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/plane_h100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/plane_h150.jpg">
								<div class="code subbb">
									150 seams <br>
									<a href="img/plane_h150.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="4">
								Horizontal seam removal on the Blue Angels image with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/plane_v.gif">
								<div class="code subbb">
									<a href="img/plane_v.gif" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/plane_h.gif">
								<div class="code subbb">
									<a href="img/plane_h.gif" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								Process gifs of both the vertical seam removal up to 200 seams, and the horizontal seam removal up to 150 seams. The red lines indicate the seams that were removed at each iteration.
							</td>
						</tr>
					</table>
				</center>

				<p>
					Below are some more successful examples of images using photos that I took.
				</p>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/glassgarden.jpg">
								<div class="code subbb">
									original <br>
									<a href="img/glassgarden.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/glassgarden_energy.jpg">
								<div class="code subbb">
									energy function <br>
									<a href="img/glassgarden_energy.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/glassgarden_v25.jpg">
								<div class="code subbb">
									25 seams <br>
									<a href="img/glassgarden_v25.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/glassgarden_v50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/glassgarden_v50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/glassgarden_v100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/glassgarden_v100.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<img src="img/glassgarden_v150.jpg">
								<div class="code subbb">
									150 seams <br>
									<a href="img/glassgarden_v150.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/glassgarden_v200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/glassgarden_v200.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/glassgarden_v300.jpg">
								<div class="code subbb">
									300 seams <br>
									<a href="img/glassgarden_v300.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Vertical seam removal on the Chihuly Garden and Glass image with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/glassgarden_h10.jpg">
								<div class="code subbb">
									10 seams <br>
									<a href="img/glassgarden_h10.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/glassgarden_h25.jpg">
								<div class="code subbb">
									25 seams <br>
									<a href="img/glassgarden_h25.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/glassgarden_h50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/glassgarden_h50.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<img src="img/glassgarden_h100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/glassgarden_h100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/glassgarden_h150.jpg">
								<div class="code subbb">
									150 seams <br>
									<a href="img/glassgarden_h150.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/glassgarden_h200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/glassgarden_h200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Horizontal seam removal on the Chihuly Garden and Glass image with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/grilledcheese.jpg">
								<div class="code subbb">
									original <br>
									<a href="img/grilledcheese.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/grilledcheese_energy.jpg">
								<div class="code subbb">
									energy function <br>
									<a href="img/grilledcheese_energy.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								Lunch at the Grilled Cheese Grill foodcart in Portland. Nom! 10/10 would recommend.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/grilledcheese_v15.jpg">
								<div class="code subbb">
									15 seams <br>
									<a href="img/grilledcheese_v15.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/grilledcheese_v50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/grilledcheese_v50.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<img src="img/grilledcheese_v100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/grilledcheese_v100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/grilledcheese_v200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/grilledcheese_v200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								Vertical seam removal on the Grilled Cheese Grill image with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/grilledcheese_h15.jpg">
								<div class="code subbb">
									15 seams <br>
									<a href="img/grilledcheese_h15.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/grilledcheese_h50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/grilledcheese_h50.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<img src="img/grilledcheese_h100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/grilledcheese_h100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/grilledcheese_h200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/grilledcheese_h200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								Horizontal seam removal on the Grilled Cheese Grill image with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/leaves.jpg">
								<div class="code subbb">
									original <br>
									<a href="img/leaves.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/leaves_energy.jpg">
								<div class="code subbb">
									energy function <br>
									<a href="img/leaves_energy.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								Much leaves. Very nature.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/leaves_v50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/leaves_v50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/leaves_v100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/leaves_v100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/leaves_v200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/leaves_v200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Vertical seam removal on the leaves photo with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/leaves_h50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/leaves_h50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/leaves_h150.jpg">
								<div class="code subbb">
									150 seams <br>
									<a href="img/leaves_h150.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/leaves_h300.jpg">
								<div class="code subbb">
									300 seams <br>
									<a href="img/leaves_h300.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Horizontal seam removal on the leaves photo with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/saltandstraw.jpg">
								<div class="code subbb">
									original <br>
									<a href="img/saltandstraw.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/saltandstraw_energy.jpg">
								<div class="code subbb">
									energy function <br>
									<a href="img/saltandstraw_energy.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="2">
								Ice cream is an important part of your daily diet in order to maintain a healthy emotional state.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/saltandstraw_v50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/saltandstraw_v50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/saltandstraw_v100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/saltandstraw_v100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/saltandstraw_v200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/saltandstraw_v200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Vertical seam removal on the Salt and Straw sign photo with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/saltandstraw_h50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/saltandstraw_h50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/saltandstraw_h100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/saltandstraw_h100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/saltandstraw_h200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/saltandstraw_h200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Horizontal seam removal on the Salt and Straw sign photo with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<p>
					There are a couple types of images that don't fare well with seam carving by this energy function. One of them is images with lines and edges running through them. This creates jagged lines or edges through the image that we would normally expect to be straight.
				</p>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/tile.jpg">
								<div class="code subbb">
									original <br>
									<a href="img/tiles.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/tile_energy.jpg">
								<div class="code subbb">
									energy function <br>
									<a href="img/tiles_energy.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/tile_v25.jpg">
								<div class="code subbb">
									25 seams <br>
									<a href="img/tile_v25.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/tile_v50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/tile_v50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/tile_v100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/tile_v100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/tile_v200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/tile_v200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="4">
								Vertical seam removal on a hot tub view image with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/tile_h10.jpg">
								<div class="code subbb">
									10 seams <br>
									<a href="img/tile_h10.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/tile_h50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/tile_h50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/tile_h100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/tile_h100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/tile_h250.jpg">
								<div class="code subbb">
									250 seams <br>
									<a href="img/tile_h250.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="4">
								Horizontal seam removal on a hot tub view image with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/tile.jpg">
								<div class="code subbb">
									original <br>
									<a href="img/tiles.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<img src="img/tile_h250c.jpg">
								<div class="code subbb">
									250 seams <br>
									<a href="img/tile_h250c.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td>
								A closer look at the very successful horizontal seam removal after 250 seams have been removed.
							</td>
						</tr>
					</table>
				</center>

				<p>
					Applying seam carving to an image of my dog, Calculus, had unfortunate results both vertically and horizontally. This is because Callie's fur, lacking edges, is rather boring compared to the marble, which has a lot of very distinct edges in the pattern.
				</p>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/dog.jpg">
								<div class="code subbb">
									original <br>
									<a href="img/dog.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/dog_energy.jpg">
								<div class="code subbb">
									energy function <br>
									<a href="img/dog_energy.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/dog_v50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/dog_v50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/dog_v100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/dog_v100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/dog_v200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/dog_v200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Vertical seam removal on photo of Callie with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/dog_h50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/dog_h50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/dog_h100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/dog_h100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/dog_h200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/dog_h200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Horizontal seam removal on photo of Callie with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<p>
					Human faces, like puppy faces, have large expanses of solid colour where our eyes, noses, mouths, etc. are not. This makes for very disconcerting results.
				</p>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/max.jpg">
								<div class="code subbb">
									original <br>
									<a href="img/max.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/max_energy.jpg">
								<div class="code subbb">
									energy function <br>
									<a href="img/max_energy.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/max_v50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/max_v50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/max_v100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/max_v100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/max_v200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/max_v200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Vertical seam removal on photo of Callie with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>

				<center>
					<table>
						<tr>
							<td>
								<img src="img/max_h50.jpg">
								<div class="code subbb">
									50 seams <br>
									<a href="img/max_h50.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/max_h100.jpg">
								<div class="code subbb">
									100 seams <br>
									<a href="img/max_h100.jpg" target="_blank">[x]</a>
								</div>
							</td>
							<td>
								<img src="img/max_h200.jpg">
								<div class="code subbb">
									200 seams <br>
									<a href="img/max_h200.jpg" target="_blank">[x]</a>
								</div>
							</td>
						</tr>
						<tr>
							<td colspan="3">
								Horizontal seam removal on photo of Callie with varying numbers of seams.
							</td>
						</tr>
					</table>
				</center>



			<h1>IV. Bells and Whistles</h1>

				<h2>Alternate Energy Functions</h2>

					<p>
						The Sobel Operator is basically a more sophisticated version (because it also considers information from pixels diagonally adjacent) of the basic gradient energy function described in Shai Avidan and Ariel Shamir's paper, <a href="http://dl.acm.org/citation.cfm?id=1276390" target="_blank">Seam Carving for Content-Aware Image Resizing</a>. I also implemented the basic gradient function and tested it out on some images.
					</p>

					<center>
						<table>
							<tr>
								<td>
									<img src="img/plane_energy.jpg">
									<div class="code subbb">
										sobel energy <br>
										<a href="img/plane_energy.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/plane_v_g_energy.jpg">
									<div class="code subbb">
										gradient energy <br>
										<a href="img/plane.jpg" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
						</table>
					</center>

					<p>
						The energy values look quite similar overall, except that some portions are less pronounced than the Sobel Operator energy. The resulting seams however, show that this makes quite a difference. The edges of the seams where pixels were removed are noticable and create unappealing edges, which is especially pronounced at 200 seams removed.
					</p>

					<center>
						<table>
							<tr>
								<td>
									<img src="img/plane_v100.jpg">
									<div class="code subbb">
										sobel 100 seams <br>
										<a href="img/plane_v100.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/plane_v_g100.jpg">
									<div class="code subbb">
										gradient 100 seams <br>
										<a href="img/plane_v_g100.jpg" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<img src="img/plane_v200.jpg">
									<div class="code subbb">
										sobel 200 seams <br>
										<a href="img/plane_v10.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/plane_v_g200.jpg">
									<div class="code subbb">
										gradient 200 seams <br>
										<a href="img/plane_v_g200.jpg" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
						</table>
					</center>


				<h2>Seam Insertion</h2>

					<p>
						Seam insertion is the complete opposite of seam removal, but with a similar idea. If we can find some least energy seam in an image, inserting a new seam next to that seam with pixels averaged from that lowest energy seam and a seam beside it should allow us to insert an entire column or row of pixels without much alteration to the overall image composition.
					</p>

					<p>
						In order to implement seam insertion, I had to change how seams were calculated. In seam removal, at each iteration, I used the new image of one pixel less width to create a new energy function and find the least energy seam from there. In seam insertion, however, this process would simply pick one least energy seam and insert that same seam however many times, which would look... odd. Therefore, we must find some n seams that do not repeat. This is accomplished by using the image with the red seams added to compute the energy. Since the red seam is a very high difference edge, our path finding will be kept from overlapping from previous paths.
					</p>

					<center>
						<table>
							<tr>
								<td>
									<img src="img/plane.jpg">
									<div class="code subbb">
										original <br>
										<a href="img/plane.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/plane_ins_v_all.jpg">
									<div class="code subbb">
										all 100 seams <br>
										<a href="img/plane_ins_v_all.jpg" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<img src="img/plane_ins_v100.jpg">
									<div class="code subbb">
										100 seams <br>
										<a href="img/plane.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/plane_ins_v.gif">
									<div class="code subbb">
										<a href="img/plane_ins_v.gif" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									Vertical seam insertion on the Blue Angels photo with varying numbers of seams.
								</td>
							</tr>
						</table>
					</center>

					<center>
						<table>
							<tr>
								<td>
									<img src="img/tile.jpg">
									<div class="code subbb">
										original <br>
										<a href="img/tile.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/tile_ins_v_all.jpg">
									<div class="code subbb">
										all 100 seams <br>
										<a href="img/tile_ins_v_all.jpg" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<img src="img/tile_ins_v100.jpg">
									<div class="code subbb">
										100 seams <br>
										<a href="img/tile.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/tile_ins_v.gif">
									<div class="code subbb">
										<a href="img/tile_ins_v.gif" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									Vertical seam insertion on a hot tub view image with 100 seams.
								</td>
							</tr>
						</table>
					</center>

					<p>
						This implementation has its downfalls. Since I am using red seams to steer future seams away from past seams, it will cause problems for images with high red channel content. This can be overcome by inverting the seams instead of colouring it red.
					</p>


				<h2>Object Removal</h2>

					<p>
						Objects can be removed from an image by adding a mask of negative weights to the energy of the image. This means that any seam going through the mask would have those negative energies added to it, and thus have a negative total energy, and those seams will be chosen to be removed first.
					</p>

					<p>
						I have had only limited success with object removal, however. At a certain number of seams removed, seams other than the ones going through the masked area would be chosen, leaving a small portion of the object remaining.
					</p>

					<center>
						<table>
							<tr>
								<td>
									<img src="img/sunset.jpg">
									<div class="code subbb">
										original <br>
										<a href="img/sunset.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/sunset_rmv.gif">
									<div class="code subbb">
										<a href="img/sunset_rmv.gif" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<img src="img/sunset_energy.jpg">
									<div class="code subbb">
										energy <br>
										<a href="img/sunset_energy.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/sunset_rmv_energy.jpg">
									<div class="code subbb">
										energy with mask <br>
										<a href="img/sunset_rmv_energy.jpg" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<img src="img/sunset_rmv_v30.jpg">
									<div class="code subbb">
										30 seams <br>
										<a href="img/sunset_rmv_v30.jpg" target="_blank">[x]</a>
									</div>
								</td>
								<td>
									<img src="img/sunset_rmv_v60.jpg">
									<div class="code subbb">
										60 seams <br>
										<a href="img/sunset_rmv_v60.jpg" target="_blank">[x]</a>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									Vertical object removal on the sunset at the Big C image with varying numbers of seams.
								</td>
							</tr>
						</table>
					</center>



			<h1>V. Conclusion</h1>

				<p>
					I found this to be a very interesting project because I've always struggled with the age old 'to crop or to resize and add border' problem that plagues the common Facebook and Instagram user. It also made me look at images in terms of its energy and see how images can be manipulated through its energy, which is very cool!
				</p>

		</div>

	</div>
</body>

</html>